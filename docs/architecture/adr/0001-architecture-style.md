# ADR-0001: Архитектурный стиль -- Clean Architecture (модульный монолит)

**Статус:** Принято
**Дата:** 2026-02-17

## Контекст

Проект Broker Backoffice -- внутреннее приложение для управления клиентами и пользователями брокерской компании. На начальном этапе нет требований к горизонтальному масштабированию или интеграции с внешними системами.

## Решение

Выбрана архитектура **модульный монолит** на основе Clean Architecture с четырьмя слоями:

```
Domain -> Application -> Infrastructure -> API
```

- **Domain** -- чистые сущности и enums без внешних зависимостей
- **Application** -- CQRS через MediatR, FluentValidation, DTOs
- **Infrastructure** -- EF Core, JWT, seed data
- **API** -- ASP.NET Core контроллеры, middleware

Frontend -- отдельное SPA-приложение (React), общается с backend исключительно через REST API.

## Обоснование

- Единая кодовая база упрощает разработку и деплой на начальном этапе
- Чёткое разделение слоев позволяет в будущем вынести модули в отдельные сервисы
- CQRS через MediatR разделяет чтение и запись, упрощает тестирование

## Последствия

- Все модули деплоятся как один процесс -- нет независимого масштабирования
- При росте нагрузки потребуется рефакторинг в микросервисы
- Разработчики должны соблюдать направление зависимостей между слоями
